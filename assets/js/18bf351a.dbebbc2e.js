(self.webpackChunkreact_navigation_website_next=self.webpackChunkreact_navigation_website_next||[]).push([[1447],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return d},kt:function(){return u}});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),m=p(n),u=i,h=m["".concat(s,".").concat(u)]||m[u]||c[u]||r;return n?a.createElement(h,o(o({ref:t},d),{},{components:n})):a.createElement(h,o({ref:t},d))}));function u(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var p=2;p<r;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},58215:function(e,t,n){"use strict";var a=n(67294);t.Z=function(e){var t=e.children,n=e.hidden,i=e.className;return a.createElement("div",{role:"tabpanel",hidden:n,className:i},t)}},41395:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var a=n(67294),i=n(80944),r=n(86010),o="tabItem_1uMI",l="tabItemActive_2DSg";var s=37,p=39;var d=function(e){var t=e.lazy,n=e.block,d=e.defaultValue,c=e.values,m=e.groupId,u=e.className,h=(0,i.Z)(),k=h.tabGroupChoices,f=h.setTabGroupChoices,g=(0,a.useState)(d),N=g[0],v=g[1],y=a.Children.toArray(e.children),C=[];if(null!=m){var b=k[m];null!=b&&b!==N&&c.some((function(e){return e.value===b}))&&v(b)}var w=function(e){var t=e.currentTarget,n=C.indexOf(t),a=c[n].value;v(a),null!=m&&(f(m,a),setTimeout((function(){var e,n,a,i,r,o,s,p;(e=t.getBoundingClientRect(),n=e.top,a=e.left,i=e.bottom,r=e.right,o=window,s=o.innerHeight,p=o.innerWidth,n>=0&&r<=p&&i<=s&&a>=0)||(t.scrollIntoView({block:"center",behavior:"smooth"}),t.classList.add(l),setTimeout((function(){return t.classList.remove(l)}),2e3))}),150))},S=function(e){var t,n;switch(e.keyCode){case p:var a=C.indexOf(e.target)+1;n=C[a]||C[0];break;case s:var i=C.indexOf(e.target)-1;n=C[i]||C[C.length-1]}null==(t=n)||t.focus()};return a.createElement("div",{className:"tabs-container"},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":n},u)},c.map((function(e){var t=e.value,n=e.label;return a.createElement("li",{role:"tab",tabIndex:N===t?0:-1,"aria-selected":N===t,className:(0,r.Z)("tabs__item",o,{"tabs__item--active":N===t}),key:t,ref:function(e){return C.push(e)},onKeyDown:S,onFocus:w,onClick:w},n)}))),t?(0,a.cloneElement)(y.filter((function(e){return e.props.value===N}))[0],{className:"margin-vert--md"}):a.createElement("div",{className:"margin-vert--md"},y.map((function(e,t){return(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==N})}))))}},79443:function(e,t,n){"use strict";var a=(0,n(67294).createContext)(void 0);t.Z=a},80944:function(e,t,n){"use strict";var a=n(67294),i=n(79443);t.Z=function(){var e=(0,a.useContext)(i.Z);if(null==e)throw new Error("`useUserPreferencesContext` is used outside of `Layout` Component.");return e}},81139:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return s},metadata:function(){return p},toc:function(){return d},default:function(){return m}});var a=n(74034),i=n(79973),r=(n(67294),n(3905)),o=n(41395),l=n(58215),s={id:"stack-navigator",title:"Stack Navigator",sidebar_label:"Stack"},p={unversionedId:"stack-navigator",id:"version-6.x/stack-navigator",isDocsHomePage:!1,title:"Stack Navigator",description:"Stack Navigator provides a way for your app to transition between screens where each new screen is placed on top of a stack.",source:"@site/versioned_docs/version-6.x/stack-navigator.md",sourceDirName:".",slug:"/stack-navigator",permalink:"/docs/stack-navigator",editUrl:"https://github.com/react-navigation/react-navigation.github.io/edit/main/versioned_docs/version-6.x/stack-navigator.md",version:"6.x",sidebar_label:"Stack",frontMatter:{id:"stack-navigator",title:"Stack Navigator",sidebar_label:"Stack"},sidebar:"version-6.x/docs",previous:{title:"Elements Library",permalink:"/docs/elements"},next:{title:"Native Stack Navigator",permalink:"/docs/native-stack-navigator"}},d=[{value:"API Definition",id:"api-definition",children:[{value:"Props",id:"props",children:[]},{value:"Options",id:"options",children:[]},{value:"Header related options",id:"header-related-options",children:[]},{value:"Events",id:"events",children:[]},{value:"Helpers",id:"helpers",children:[]}]},{value:"Example",id:"example",children:[]},{value:"Animations",id:"animations",children:[{value:"Animation related options",id:"animation-related-options",children:[]},{value:"Pre-made configs",id:"pre-made-configs",children:[]},{value:"Transparent modals",id:"transparent-modals",children:[]}]}],c={toc:d};function m(e){var t=e.components,n=(0,i.Z)(e,["components"]);return(0,r.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Stack Navigator provides a way for your app to transition between screens where each new screen is placed on top of a stack."),(0,r.kt)("p",null,"By default the stack navigator is configured to have the familiar iOS and Android look & feel: new screens slide in from the right on iOS, use OS default animation on Android. But the ",(0,r.kt)("a",{parentName:"p",href:"#animation-related-options"},"animations can be customize")," to match your needs."),(0,r.kt)("div",{style:{display:"flex",margin:"16px 0"}},(0,r.kt)("video",{playsInline:!0,autoPlay:!0,muted:!0,loop:!0},(0,r.kt)("source",{src:"/assets/navigators/stack/stack.mov"}))),(0,r.kt)("p",null,"One thing to keep in mind is that while ",(0,r.kt)("inlineCode",{parentName:"p"},"createStackNavigator")," is extremely customizable, it's implemented in JavaScript. While it runs animations and gestures using natively, the performance may not be as fast as a native implementation. This may not be an issue for a lot of apps, but if you're experiencing performance issues during navigation, consider using ",(0,r.kt)("a",{parentName:"p",href:"/docs/native-stack-navigator"},(0,r.kt)("inlineCode",{parentName:"a"},"createNativeStackNavigator"))," instead - which uses native navigation primitives."),(0,r.kt)("p",null,"To use this navigator, ensure that you have ",(0,r.kt)("a",{parentName:"p",href:"/docs/getting-started"},(0,r.kt)("inlineCode",{parentName:"a"},"@react-navigation/native")," and its dependencies (follow this guide)"),", then install ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/react-navigation/react-navigation/tree/main/packages/stack"},(0,r.kt)("inlineCode",{parentName:"a"},"@react-navigation/stack")),":"),(0,r.kt)(o.Z,{defaultValue:"npm",values:[{label:"npm",value:"npm"},{label:"Yarn",value:"yarn"}],mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"npm",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npm install @react-navigation/stack react-native-gesture-handler\n"))),(0,r.kt)(l.Z,{value:"yarn",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"yarn add @react-navigation/stack react-native-gesture-handler\n")))),(0,r.kt)("p",null,"To finalize installation of ",(0,r.kt)("inlineCode",{parentName:"p"},"react-native-gesture-handler"),", add the following at the ",(0,r.kt)("strong",{parentName:"p"},"top")," (make sure it's at the top and there's nothing else before it) of your entry file, such as ",(0,r.kt)("inlineCode",{parentName:"p"},"index.js")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"App.js"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import 'react-native-gesture-handler';\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Note: If you are building for Android or iOS, do not skip this step, or your app may crash in production even if it works fine in development. This is not applicable to other platforms.")),(0,r.kt)("h2",{id:"api-definition"},"API Definition"),(0,r.kt)("p",null,"To use this navigator, import it from ",(0,r.kt)("inlineCode",{parentName:"p"},"@react-navigation/stack"),":"),(0,r.kt)("samp",{id:"simple-stack"}),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { createStackNavigator } from \'@react-navigation/stack\';\n\nconst Stack = createStackNavigator();\n\nfunction MyStack() {\n  return (\n    <Stack.Navigator>\n      <Stack.Screen name="Home" component={Home} />\n      <Stack.Screen name="Notifications" component={Notifications} />\n      <Stack.Screen name="Profile" component={Profile} />\n      <Stack.Screen name="Settings" component={Settings} />\n    </Stack.Navigator>\n  );\n}\n')),(0,r.kt)("h3",{id:"props"},"Props"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"Stack.Navigator")," component accepts following props:"),(0,r.kt)("h4",{id:"initialroutename"},(0,r.kt)("inlineCode",{parentName:"h4"},"initialRouteName")),(0,r.kt)("p",null,"The name of the route to render on first load of the navigator."),(0,r.kt)("h4",{id:"screenoptions"},(0,r.kt)("inlineCode",{parentName:"h4"},"screenOptions")),(0,r.kt)("p",null,"Default options to use for the screens in the navigator."),(0,r.kt)("h4",{id:"detachinactivescreens"},(0,r.kt)("inlineCode",{parentName:"h4"},"detachInactiveScreens")),(0,r.kt)("p",null,"Boolean used to indicate whether inactive screens should be detached from the view hierarchy to save memory. Make sure to call ",(0,r.kt)("inlineCode",{parentName:"p"},"enableScreens")," from ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/software-mansion/react-native-screens"},"react-native-screens")," to make it work. Defaults to ",(0,r.kt)("inlineCode",{parentName:"p"},"true"),"."),(0,r.kt)("p",null,"You can customize it further on per screen basis using the ",(0,r.kt)("a",{parentName:"p",href:"#detachinactivescreen"},(0,r.kt)("inlineCode",{parentName:"a"},"detachPreviousScreen"))," option."),(0,r.kt)("h4",{id:"keyboardhandlingenabled"},(0,r.kt)("inlineCode",{parentName:"h4"},"keyboardHandlingEnabled")),(0,r.kt)("p",null,"If ",(0,r.kt)("inlineCode",{parentName:"p"},"false"),", the keyboard will NOT automatically dismiss when navigating to a new screen from this screen.  Defaults to ",(0,r.kt)("inlineCode",{parentName:"p"},"true"),"."),(0,r.kt)("h3",{id:"options"},"Options"),(0,r.kt)("p",null,"The following ",(0,r.kt)("a",{parentName:"p",href:"/docs/screen-options"},"options")," can be used to configure the screens in the navigator. These can be specified under ",(0,r.kt)("inlineCode",{parentName:"p"},"screenOptions")," prop of ",(0,r.kt)("inlineCode",{parentName:"p"},"Stack.navigator")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"options")," prop of ",(0,r.kt)("inlineCode",{parentName:"p"},"Stack.Screen"),"."),(0,r.kt)("h4",{id:"title"},(0,r.kt)("inlineCode",{parentName:"h4"},"title")),(0,r.kt)("p",null,"String that can be used as a fallback for ",(0,r.kt)("inlineCode",{parentName:"p"},"headerTitle"),"."),(0,r.kt)("h4",{id:"cardshadowenabled"},(0,r.kt)("inlineCode",{parentName:"h4"},"cardShadowEnabled")),(0,r.kt)("p",null,"Use this prop to have visible shadows during transitions. Defaults to ",(0,r.kt)("inlineCode",{parentName:"p"},"true"),"."),(0,r.kt)("h4",{id:"cardoverlayenabled"},(0,r.kt)("inlineCode",{parentName:"h4"},"cardOverlayEnabled")),(0,r.kt)("p",null,"Use this prop to have a semi-transparent dark overlay visible under the card during transitions. Defaults to ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," on Android and ",(0,r.kt)("inlineCode",{parentName:"p"},"false")," on iOS."),(0,r.kt)("h4",{id:"cardoverlay"},(0,r.kt)("inlineCode",{parentName:"h4"},"cardOverlay")),(0,r.kt)("p",null,"Function which returns a React Element to display as the overlay for the card. Make sure to set ",(0,r.kt)("inlineCode",{parentName:"p"},"cardOverlayEnabled")," to ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," when using this."),(0,r.kt)("h4",{id:"cardstyle"},(0,r.kt)("inlineCode",{parentName:"h4"},"cardStyle")),(0,r.kt)("p",null,"Style object for the card in stack. You can provide a custom background color to use instead of the default background here."),(0,r.kt)("p",null,"You can also specify ",(0,r.kt)("inlineCode",{parentName:"p"},"{ backgroundColor: 'transparent' }")," to make the previous screen visible underneath (for transparent modals). This is useful to implement things like modal dialogs. You should also specify ",(0,r.kt)("inlineCode",{parentName:"p"},"presentation: 'modal'")," in the options when using a transparent background so previous screens aren't detached and stay visible underneath."),(0,r.kt)("h4",{id:"presentation"},(0,r.kt)("inlineCode",{parentName:"h4"},"presentation")),(0,r.kt)("p",null,"This is shortcut option which configures several options to configure the style for rendering and transitions:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"card"),": Use the default OS animations for iOS and Android screen transitions."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"modal"),": Use Modal animations. This changes a few things:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Sets ",(0,r.kt)("inlineCode",{parentName:"li"},"headerMode")," to ",(0,r.kt)("inlineCode",{parentName:"li"},"screen")," for the screen unless specified otherwise."),(0,r.kt)("li",{parentName:"ul"},"Changes the screen animation to match the platform behavior for modals."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"transparentModal"),": Similar to ",(0,r.kt)("inlineCode",{parentName:"li"},"modal"),". This changes following things:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Sets ",(0,r.kt)("inlineCode",{parentName:"li"},"headerMode")," to ",(0,r.kt)("inlineCode",{parentName:"li"},"screen")," for the screen unless specified otherwise."),(0,r.kt)("li",{parentName:"ul"},"Sets background color of the screen to transparent, so previous screen is visible"),(0,r.kt)("li",{parentName:"ul"},"Adjusts the ",(0,r.kt)("inlineCode",{parentName:"li"},"detachPreviousScreen")," option so that the previous screen stays rendered."),(0,r.kt)("li",{parentName:"ul"},"Prevents the previous screen from animating from its last position."),(0,r.kt)("li",{parentName:"ul"},"Changes the screen animation to a vertical slide animation.")))),(0,r.kt)("p",null,"See ",(0,r.kt)("a",{parentName:"p",href:"#transparent-modals"},"Transparent modals")," for more details on how to customize ",(0,r.kt)("inlineCode",{parentName:"p"},"transparentModal"),"."),(0,r.kt)("h4",{id:"animationenabled"},(0,r.kt)("inlineCode",{parentName:"h4"},"animationEnabled")),(0,r.kt)("p",null,"Whether transition animation should be enabled on the screen. If you set it to ",(0,r.kt)("inlineCode",{parentName:"p"},"false"),", the screen won't animate when pushing or popping. Defaults to ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," on iOS and Android, ",(0,r.kt)("inlineCode",{parentName:"p"},"false")," on Web."),(0,r.kt)("h4",{id:"animationtypeforreplace"},(0,r.kt)("inlineCode",{parentName:"h4"},"animationTypeForReplace")),(0,r.kt)("p",null,"The type of animation to use when this screen replaces another screen. It takes the following values:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"push")," - The animation of a new screen being pushed will be used"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"pop")," - The animation of a screen being popped will be used")),(0,r.kt)("p",null,"Defaults to ",(0,r.kt)("inlineCode",{parentName:"p"},"push"),"."),(0,r.kt)("p",null,"When ",(0,r.kt)("inlineCode",{parentName:"p"},"pop")," is used, the ",(0,r.kt)("inlineCode",{parentName:"p"},"pop")," animation is applied to the screen being replaced."),(0,r.kt)("h4",{id:"gestureenabled"},(0,r.kt)("inlineCode",{parentName:"h4"},"gestureEnabled")),(0,r.kt)("p",null,"Whether you can use gestures to dismiss this screen. Defaults to ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," on iOS, ",(0,r.kt)("inlineCode",{parentName:"p"},"false")," on Android."),(0,r.kt)("p",null,"Gestures are not supported on Web."),(0,r.kt)("h4",{id:"gestureresponsedistance"},(0,r.kt)("inlineCode",{parentName:"h4"},"gestureResponseDistance")),(0,r.kt)("p",null,"Number to override the distance of touch start from the edge of the screen to recognize gestures."),(0,r.kt)("p",null,"It'll configure either the horizontal or vertical distance based on the ",(0,r.kt)("a",{parentName:"p",href:"#gesturedirection"},(0,r.kt)("inlineCode",{parentName:"a"},"gestureDirection"))," value."),(0,r.kt)("p",null,"The default values are:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"50")," - when ",(0,r.kt)("inlineCode",{parentName:"li"},"gestureDirection")," is ",(0,r.kt)("inlineCode",{parentName:"li"},"horizontal")," or ",(0,r.kt)("inlineCode",{parentName:"li"},"horizontal-inverted")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"135")," - when ",(0,r.kt)("inlineCode",{parentName:"li"},"gestureDirection")," is ",(0,r.kt)("inlineCode",{parentName:"li"},"vertical")," or ",(0,r.kt)("inlineCode",{parentName:"li"},"vertical-inverted"))),(0,r.kt)("p",null,"This is not supported on Web."),(0,r.kt)("h4",{id:"gesturevelocityimpact"},(0,r.kt)("inlineCode",{parentName:"h4"},"gestureVelocityImpact")),(0,r.kt)("p",null,"Number which determines the relevance of velocity for the gesture. Defaults to 0.3."),(0,r.kt)("p",null,"This is not supported on Web."),(0,r.kt)("h4",{id:"gesturedirection"},(0,r.kt)("inlineCode",{parentName:"h4"},"gestureDirection")),(0,r.kt)("p",null,"Direction of the gestures. Refer the ",(0,r.kt)("a",{parentName:"p",href:"#animations"},"Animations section")," for details."),(0,r.kt)("p",null,"This is not supported on Web."),(0,r.kt)("h4",{id:"transitionspec"},(0,r.kt)("inlineCode",{parentName:"h4"},"transitionSpec")),(0,r.kt)("p",null,"Configuration object for the screen transition. Refer the ",(0,r.kt)("a",{parentName:"p",href:"#animations"},"Animations section")," for details."),(0,r.kt)("h4",{id:"cardstyleinterpolator"},(0,r.kt)("inlineCode",{parentName:"h4"},"cardStyleInterpolator")),(0,r.kt)("p",null,"Interpolated styles for various parts of the card. Refer the ",(0,r.kt)("a",{parentName:"p",href:"#animations"},"Animations section")," for details."),(0,r.kt)("h4",{id:"headerstyleinterpolator"},(0,r.kt)("inlineCode",{parentName:"h4"},"headerStyleInterpolator")),(0,r.kt)("p",null,"Interpolated styles for various parts of the header. Refer the ",(0,r.kt)("a",{parentName:"p",href:"#animations"},"Animations section")," for details."),(0,r.kt)("h4",{id:"detachpreviousscreen"},(0,r.kt)("inlineCode",{parentName:"h4"},"detachPreviousScreen")),(0,r.kt)("p",null,"Boolean used to indicate whether to detach the previous screen from the view hierarchy to save memory. Set it to ",(0,r.kt)("inlineCode",{parentName:"p"},"false")," if you need the previous screen to be seen through the active screen. Only applicable if ",(0,r.kt)("inlineCode",{parentName:"p"},"detachInactiveScreens")," isn't set to ",(0,r.kt)("inlineCode",{parentName:"p"},"false"),". Defaults to ",(0,r.kt)("inlineCode",{parentName:"p"},"false")," for the last screen for modals, otherwise ",(0,r.kt)("inlineCode",{parentName:"p"},"true"),"."),(0,r.kt)("h3",{id:"header-related-options"},"Header related options"),(0,r.kt)("p",null,"You can find the list of header related options ",(0,r.kt)("a",{parentName:"p",href:"/docs/elements#header"},"here"),". These ",(0,r.kt)("a",{parentName:"p",href:"/docs/screen-options"},"options")," can be specified under ",(0,r.kt)("inlineCode",{parentName:"p"},"screenOptions")," prop of ",(0,r.kt)("inlineCode",{parentName:"p"},"Stack.navigator")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"options")," prop of ",(0,r.kt)("inlineCode",{parentName:"p"},"Stack.Screen"),". You don't have to be using ",(0,r.kt)("inlineCode",{parentName:"p"},"@react-navigation/elements")," directly to use these options, they are just documented in that page."),(0,r.kt)("p",null,"In addition to those, the following options are also supported in stack:"),(0,r.kt)("h4",{id:"header"},(0,r.kt)("inlineCode",{parentName:"h4"},"header")),(0,r.kt)("p",null,"Function that returns a React Element to display as a header. It accepts an object containing the following properties as the argument:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"navigation")," - The navigation object for the current screen."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"route")," - The route object for the current screen."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"options")," - The options for the current screen"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"layout")," - Dimensions of the screen, contains ",(0,r.kt)("inlineCode",{parentName:"li"},"height")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"width")," properties."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"progress")," Animated nodes representing the progress of the animation."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"back")," - Options for the back button, contains an object with a ",(0,r.kt)("inlineCode",{parentName:"li"},"title")," property to use for back button label."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"styleInterpolator")," - Function which returns interpolated styles for various elements in the header.")),(0,r.kt)("p",null,"Make sure to set ",(0,r.kt)("inlineCode",{parentName:"p"},"headerMode")," to ",(0,r.kt)("inlineCode",{parentName:"p"},"screen")," as well when using a custom header (see below for more details)."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import { getHeaderTitle } from '@react-navigation/elements';\n\n// ..\n\nheader: ({ navigation, route, options, back }) => {\n  const title = getHeaderTitle(options, route.name);\n\n  return (\n    <MyHeader\n      title={title}\n      leftButton={\n        back ? <MyBackButton onPress={navigation.goBack} /> : undefined\n      }\n      style={options.headerStyle}\n    />\n  );\n};\n")),(0,r.kt)("p",null,"To set a custom header for all the screens in the navigator, you can specify this option in the ",(0,r.kt)("inlineCode",{parentName:"p"},"screenOptions")," prop of the navigator."),(0,r.kt)("p",null,"When using a custom header, there are 2 things to keep in mind:"),(0,r.kt)("h5",{id:"specify-a-height-in-headerstyle-to-avoid-glitches"},"Specify a ",(0,r.kt)("inlineCode",{parentName:"h5"},"height")," in ",(0,r.kt)("inlineCode",{parentName:"h5"},"headerStyle")," to avoid glitches"),(0,r.kt)("p",null,"If your header's height differs from the default header height, then you might notice glitches due to measurement being async. Explicitly specifying the height will avoid such glitches."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"headerStyle: {\n  height: 80, // Specify the height of your custom header\n};\n")),(0,r.kt)("p",null,"Note that this style is not applied to the header by default since you control the styling of your custom header. If you also want to apply this style to your header, use ",(0,r.kt)("inlineCode",{parentName:"p"},"headerStyle")," from the props."),(0,r.kt)("h5",{id:"set-headermode-to-float-for-custom-header-animations"},"Set ",(0,r.kt)("inlineCode",{parentName:"h5"},"headerMode")," to ",(0,r.kt)("inlineCode",{parentName:"h5"},"float")," for custom header animations"),(0,r.kt)("p",null,"By default, there is one floating header which renders headers for multiple screens on iOS for non-modals. These headers include animations to smoothly switch to one another."),(0,r.kt)("p",null,"If you specify a custom header, React Navigation will change it to ",(0,r.kt)("inlineCode",{parentName:"p"},"screen")," automatically so that the header animated along with the screen instead. This means that you don't have to implement animations to animate it separately."),(0,r.kt)("p",null,"But you might want to keep the floating header to have a different transition animation between headers. To do that, you'll need to specify ",(0,r.kt)("inlineCode",{parentName:"p"},"headerMode: 'float'")," in the options, and then interpolate on the ",(0,r.kt)("inlineCode",{parentName:"p"},"progress.current")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"progress.next")," props in your custom header. For example, following will cross-fade the header:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const opacity = Animated.add(progress.current, progress.next || 0).interpolate({\n  inputRange: [0, 1, 2],\n  outputRange: [0, 1, 0],\n});\n\nreturn (\n  <Animated.View style={{ opacity }}>{/* Header content */}</Animated.View>\n);\n")),(0,r.kt)("h4",{id:"headermode"},(0,r.kt)("inlineCode",{parentName:"h4"},"headerMode")),(0,r.kt)("p",null,"Specifies how the header should be rendered:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"float")," - Render a single header that stays at the top and animates as screens are changed. This is default on iOS."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"screen")," - Each screen has a header attached to it and the header fades in and out together with the screen. This is default on other platforms.")),(0,r.kt)("h4",{id:"headershown"},(0,r.kt)("inlineCode",{parentName:"h4"},"headerShown")),(0,r.kt)("p",null,"Whether to show or hide the header for the screen. The header is shown by default. Setting this to ",(0,r.kt)("inlineCode",{parentName:"p"},"false")," hides the header."),(0,r.kt)("h4",{id:"headerbackallowfontscaling"},(0,r.kt)("inlineCode",{parentName:"h4"},"headerBackAllowFontScaling")),(0,r.kt)("p",null,"Whether back button title font should scale to respect Text Size accessibility settings. Defaults to false."),(0,r.kt)("h4",{id:"headerbackaccessibilitylabel"},(0,r.kt)("inlineCode",{parentName:"h4"},"headerBackAccessibilityLabel")),(0,r.kt)("p",null,"Accessibility label for the header back button."),(0,r.kt)("h4",{id:"headerbackimage"},(0,r.kt)("inlineCode",{parentName:"h4"},"headerBackImage")),(0,r.kt)("p",null,"Function which returns a React Element to display custom image in header's back button. When a function is used, it receives the ",(0,r.kt)("inlineCode",{parentName:"p"},"tintColor")," in it's argument object. Defaults to Image component with back image source, which is the default back icon image for the platform (a chevron on iOS and an arrow on Android)."),(0,r.kt)("h4",{id:"headerbacktitle"},(0,r.kt)("inlineCode",{parentName:"h4"},"headerBackTitle")),(0,r.kt)("p",null,"Title string used by the back button on iOS. Defaults to the previous scene's ",(0,r.kt)("inlineCode",{parentName:"p"},"headerTitle"),"."),(0,r.kt)("h4",{id:"headerbacktitlevisible"},(0,r.kt)("inlineCode",{parentName:"h4"},"headerBackTitleVisible")),(0,r.kt)("p",null,"A reasonable default is supplied for whether the back button title should be visible or not, but if you want to override that you can use ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"false")," in this option."),(0,r.kt)("h4",{id:"headertruncatedbacktitle"},(0,r.kt)("inlineCode",{parentName:"h4"},"headerTruncatedBackTitle")),(0,r.kt)("p",null,"Title string used by the back button when ",(0,r.kt)("inlineCode",{parentName:"p"},"headerBackTitle")," doesn't fit on the screen. ",(0,r.kt)("inlineCode",{parentName:"p"},'"Back"')," by default."),(0,r.kt)("h4",{id:"headerbacktitlestyle"},(0,r.kt)("inlineCode",{parentName:"h4"},"headerBackTitleStyle")),(0,r.kt)("p",null,"Style object for the back title."),(0,r.kt)("h3",{id:"events"},"Events"),(0,r.kt)("p",null,"The navigator can ",(0,r.kt)("a",{parentName:"p",href:"/docs/navigation-events"},"emit events")," on certain actions. Supported events are:"),(0,r.kt)("h4",{id:"transitionstart"},(0,r.kt)("inlineCode",{parentName:"h4"},"transitionStart")),(0,r.kt)("p",null,"This event is fired when the transition animation starts for the current screen."),(0,r.kt)("p",null,"Event data:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"e.data.closing")," - Boolean indicating whether the screen is being opened or closed.")),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"React.useEffect(() => {\n  const unsubscribe = navigation.addListener('transitionStart', (e) => {\n    // Do something\n  });\n\n  return unsubscribe;\n}, [navigation]);\n")),(0,r.kt)("h4",{id:"transitionend"},(0,r.kt)("inlineCode",{parentName:"h4"},"transitionEnd")),(0,r.kt)("p",null,"This event is fired when the transition animation ends for the current screen."),(0,r.kt)("p",null,"Event data:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"e.data.closing")," - Boolean indicating whether the screen was opened or closed.")),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"React.useEffect(() => {\n  const unsubscribe = navigation.addListener('transitionEnd', (e) => {\n    // Do something\n  });\n\n  return unsubscribe;\n}, [navigation]);\n")),(0,r.kt)("h4",{id:"gesturestart"},(0,r.kt)("inlineCode",{parentName:"h4"},"gestureStart")),(0,r.kt)("p",null,"This event is fired when the swipe gesture starts for the current screen."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"React.useEffect(() => {\n  const unsubscribe = navigation.addListener('gestureStart', (e) => {\n    // Do something\n  });\n\n  return unsubscribe;\n}, [navigation]);\n")),(0,r.kt)("h4",{id:"gestureend"},(0,r.kt)("inlineCode",{parentName:"h4"},"gestureEnd")),(0,r.kt)("p",null,"This event is fired when the swipe gesture ends for the current screen. e.g. a screen was successfully dismissed."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"React.useEffect(() => {\n  const unsubscribe = navigation.addListener('gestureEnd', (e) => {\n    // Do something\n  });\n\n  return unsubscribe;\n}, [navigation]);\n")),(0,r.kt)("h4",{id:"gesturecancel"},(0,r.kt)("inlineCode",{parentName:"h4"},"gestureCancel")),(0,r.kt)("p",null,"This event is fired when the swipe gesture is cancelled for the current screen. e.g. a screen wasn't dismissed by the gesture."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"React.useEffect(() => {\n  const unsubscribe = navigation.addListener('gestureCancel', (e) => {\n    // Do something\n  });\n\n  return unsubscribe;\n}, [navigation]);\n")),(0,r.kt)("h3",{id:"helpers"},"Helpers"),(0,r.kt)("p",null,"The stack navigator adds the following methods to the navigation prop:"),(0,r.kt)("h4",{id:"push"},(0,r.kt)("inlineCode",{parentName:"h4"},"push")),(0,r.kt)("p",null,"Pushes a new screen to top of the stack and navigate to it. The method accepts following arguments:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"name")," - ",(0,r.kt)("em",{parentName:"li"},"string")," - Name of the route to push onto the stack."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"params")," - ",(0,r.kt)("em",{parentName:"li"},"object")," - Screen params to pass to the destination route.")),(0,r.kt)("samp",{id:"stack-with-options"}),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"navigation.push('Profile', { owner: 'Micha\u015b' });\n")),(0,r.kt)("h4",{id:"pop"},(0,r.kt)("inlineCode",{parentName:"h4"},"pop")),(0,r.kt)("p",null,"Pops the current screen from the stack and navigates back to the previous screen. It takes one optional argument (",(0,r.kt)("inlineCode",{parentName:"p"},"count"),"), which allows you to specify how many screens to pop back by."),(0,r.kt)("samp",{id:"stack-with-options"}),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"navigation.pop();\n")),(0,r.kt)("h4",{id:"poptotop"},(0,r.kt)("inlineCode",{parentName:"h4"},"popToTop")),(0,r.kt)("p",null,"Pops all of the screens in the stack except the first one and navigates to it."),(0,r.kt)("samp",{id:"stack-with-options"}),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"navigation.popToTop();\n")),(0,r.kt)("h2",{id:"example"},"Example"),(0,r.kt)("samp",{id:"stack-with-options"}),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import { createStackNavigator } from '@react-navigation/stack';\n\nconst Stack = createStackNavigator();\n\nfunction MyStack() {\n  return (\n    <Stack.Navigator\n      initialRouteName=\"Home\"\n      screenOptions={{\n        headerMode: 'screen',\n        headerTintColor: 'white',\n        headerStyle: { backgroundColor: 'tomato' },\n      }}\n    >\n      <Stack.Screen\n        name=\"Home\"\n        component={Home}\n        options={{\n          title: 'Awesome app',\n        }}\n      />\n      <Stack.Screen\n        name=\"Profile\"\n        component={Profile}\n        options={{\n          title: 'My profile',\n        }}\n      />\n      <Stack.Screen\n        name=\"Settings\"\n        component={Settings}\n        options={{\n          gestureEnabled: false,\n        }}\n      />\n    </Stack.Navigator>\n  );\n}\n")),(0,r.kt)("h2",{id:"animations"},"Animations"),(0,r.kt)("h3",{id:"animation-related-options"},"Animation related options"),(0,r.kt)("p",null,"Stack Navigator exposes various options to configure the transition animation when a screen is added or removed. These transition animations can be customized on a per-screen basis by specifying the options in the ",(0,r.kt)("inlineCode",{parentName:"p"},"options")," prop for each screen."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"gestureDirection")," - The direction of swipe gestures:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"horizontal")," - The gesture to close the screen will start from the left, and from the right in RTL. For animations, screen will slide from the right with ",(0,r.kt)("inlineCode",{parentName:"li"},"SlideFromRightIOS"),", and from the left in RTL."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"horizontal-inverted")," - The gesture to close the screen will start from the right, and from the left in RTL. For animations, screen will slide from the left with ",(0,r.kt)("inlineCode",{parentName:"li"},"SlideFromRightIOS"),", and from the right in RTL as the direction is inverted."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"vertical")," - The gesture to close the screen will start from the top. For animations, screen will slide from the bottom."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"vertical-inverted")," - The gesture to close the screen will start from the bottom. For animations, screen will slide from the top.")),(0,r.kt)("p",{parentName:"li"},"You may want to specify a matching horizontal/vertical animation along with ",(0,r.kt)("inlineCode",{parentName:"p"},"gestureDirection")," as well. For the animations included in the library, if you set ",(0,r.kt)("inlineCode",{parentName:"p"},"gestureDirection")," to one of the inverted ones, it'll also flip the animation direction.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"transitionSpec")," - An object which specifies the animation type (",(0,r.kt)("inlineCode",{parentName:"p"},"timing")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"spring"),") and their options (such as ",(0,r.kt)("inlineCode",{parentName:"p"},"duration")," for ",(0,r.kt)("inlineCode",{parentName:"p"},"timing"),"). It takes 2 properties:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"open")," - Configuration for the transition when adding a screen"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"close")," - Configuration for the transition when removing a screen.")),(0,r.kt)("p",{parentName:"li"},"Each of the object should specify 2 properties:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"animation")," - The animation function to use for the animation. Supported values are ",(0,r.kt)("inlineCode",{parentName:"li"},"timing")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"spring"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"config")," - The configuration object for the timing function. For ",(0,r.kt)("inlineCode",{parentName:"li"},"timing"),", it can be ",(0,r.kt)("inlineCode",{parentName:"li"},"duration")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"easing"),". For ",(0,r.kt)("inlineCode",{parentName:"li"},"spring"),", it can be ",(0,r.kt)("inlineCode",{parentName:"li"},"stiffness"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"damping"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"mass"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"overshootClamping"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"restDisplacementThreshold")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"restSpeedThreshold"),".")),(0,r.kt)("p",{parentName:"li"},"A config which uses spring animation looks like this:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const config = {\n  animation: 'spring',\n  config: {\n    stiffness: 1000,\n    damping: 500,\n    mass: 3,\n    overshootClamping: true,\n    restDisplacementThreshold: 0.01,\n    restSpeedThreshold: 0.01,\n  },\n};\n")),(0,r.kt)("p",{parentName:"li"},"We can pass this config in the ",(0,r.kt)("inlineCode",{parentName:"p"},"transitionSpec")," option:"),(0,r.kt)("samp",{id:"stack-animation-config"}),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-js"},'<Stack.Screen\n  name="Profile"\n  component={Profile}\n  options={{\n    transitionSpec: {\n      open: config,\n      close: config,\n    },\n  }}\n/>\n'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"cardStyleInterpolator")," - This is a function which specifies interpolated styles for various parts of the card. This allows you to customize the transitions when navigating from screen to screen. It is expected to return at least empty object, possibly containing interpolated styles for container, the card itself, overlay and shadow. Supported properties are:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"containerStyle")," - Style for the container view wrapping the card."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"cardStyle")," - Style for the view representing the card."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"overlayStyle")," - Style for the view representing the semi-transparent overlay below"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"shadowStyle")," - Style for the view representing the card shadow.")),(0,r.kt)("p",{parentName:"li"},"The function receives the following properties in its argument:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"current")," - Values for the current screen:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"progress")," - Animated node representing the progress value of the current screen."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"next")," - Values for the screen after this one in the stack. This can be ",(0,r.kt)("inlineCode",{parentName:"li"},"undefined")," in case the screen animating is the last one.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"progress")," - Animated node representing the progress value of the next screen."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"index")," - The index of the card in the stack."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"closing")," - Animated node representing whether the card is closing. ",(0,r.kt)("inlineCode",{parentName:"li"},"1")," when closing, ",(0,r.kt)("inlineCode",{parentName:"li"},"0")," if not."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"layouts")," - Layout measurements for various items we use for animation.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"screen")," - Layout of the whole screen. Contains ",(0,r.kt)("inlineCode",{parentName:"li"},"height")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"width")," properties.")))),(0,r.kt)("blockquote",{parentName:"li"},(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Note that when a screen is not the last, it will use the next screen's transition config.")," This is because many transitions involve an animation of the previous screen, and so these two transitions need to be kept together to prevent running two different kinds of transitions on the two screens (for example a slide and a modal). You can check the ",(0,r.kt)("inlineCode",{parentName:"p"},"next")," parameter to find out if you want to animate out the previous screen. For more information about this parameter, see ",(0,r.kt)("a",{parentName:"p",href:"/docs/stack-navigator#animations"},"Animation")," section.")),(0,r.kt)("p",{parentName:"li"},"A config which just fades the screen looks like this:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const forFade = ({ current }) => ({\n  cardStyle: {\n    opacity: current.progress,\n  },\n});\n")),(0,r.kt)("p",{parentName:"li"},"We can pass this function in ",(0,r.kt)("inlineCode",{parentName:"p"},"cardStyleInterpolator")," option:"),(0,r.kt)("samp",{id:"stack-for-fade-card"}),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-js"},'<Stack.Screen\n  name="Profile"\n  component={Profile}\n  options={{ cardStyleInterpolator: forFade }}\n/>\n')),(0,r.kt)("p",{parentName:"li"},"The interpolator will be called for each screen. For example, say you have a 2 screens in the stack, A & B. B is the new screen coming into focus and A is the previous screen. The interpolator will be called for each screen:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"The interpolator is called for ",(0,r.kt)("inlineCode",{parentName:"li"},"B"),": Here, the ",(0,r.kt)("inlineCode",{parentName:"li"},"current.progress")," value represents the progress of the transition, which will start at ",(0,r.kt)("inlineCode",{parentName:"li"},"0")," and end at ",(0,r.kt)("inlineCode",{parentName:"li"},"1"),". There won't be a ",(0,r.kt)("inlineCode",{parentName:"li"},"next.progress")," since ",(0,r.kt)("inlineCode",{parentName:"li"},"B")," is the last screen."),(0,r.kt)("li",{parentName:"ul"},"The interpolator is called for ",(0,r.kt)("inlineCode",{parentName:"li"},"A"),": Here, the ",(0,r.kt)("inlineCode",{parentName:"li"},"current.progress")," will stay at the value of ",(0,r.kt)("inlineCode",{parentName:"li"},"1")," and won't change, since the current transition is running for ",(0,r.kt)("inlineCode",{parentName:"li"},"B"),", not ",(0,r.kt)("inlineCode",{parentName:"li"},"A"),". The ",(0,r.kt)("inlineCode",{parentName:"li"},"next.progress")," value represents the progress of ",(0,r.kt)("inlineCode",{parentName:"li"},"B")," and will start at ",(0,r.kt)("inlineCode",{parentName:"li"},"0")," and end at ",(0,r.kt)("inlineCode",{parentName:"li"},"1"),".")),(0,r.kt)("p",{parentName:"li"},"Say we want to animate both screens during the transition. The easiest way to do it would be to combine the progress value of current and next screens:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const progress = Animated.add(\n  current.progress.interpolate({\n    inputRange: [0, 1],\n    outputRange: [0, 1],\n    extrapolate: 'clamp',\n  }),\n  next\n    ? next.progress.interpolate({\n        inputRange: [0, 1],\n        outputRange: [0, 1],\n        extrapolate: 'clamp',\n      })\n    : 0\n);\n")),(0,r.kt)("p",{parentName:"li"},"Here, the screen ",(0,r.kt)("inlineCode",{parentName:"p"},"A")," will have both ",(0,r.kt)("inlineCode",{parentName:"p"},"current.progress")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"next.progress"),", and since ",(0,r.kt)("inlineCode",{parentName:"p"},"current.progress")," stays at ",(0,r.kt)("inlineCode",{parentName:"p"},"1")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"next.progress")," is changing, combined, the progress will change from ",(0,r.kt)("inlineCode",{parentName:"p"},"1")," to ",(0,r.kt)("inlineCode",{parentName:"p"},"2"),". The screen ",(0,r.kt)("inlineCode",{parentName:"p"},"B")," will only have ",(0,r.kt)("inlineCode",{parentName:"p"},"current.progress")," which will change from ",(0,r.kt)("inlineCode",{parentName:"p"},"0")," to ",(0,r.kt)("inlineCode",{parentName:"p"},"1"),". So, we can apply different interpolations for ",(0,r.kt)("inlineCode",{parentName:"p"},"0-1")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"1-2")," to animate focused screen and unfocused screen respectively."),(0,r.kt)("p",{parentName:"li"},"A config which translates the previous screen slightly to the left, and translates the current screen from the right edge would look like this:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const forSlide = ({ current, next, inverted, layouts: { screen } }) => {\n  const progress = Animated.add(\n    current.progress.interpolate({\n      inputRange: [0, 1],\n      outputRange: [0, 1],\n      extrapolate: 'clamp',\n    }),\n    next\n      ? next.progress.interpolate({\n          inputRange: [0, 1],\n          outputRange: [0, 1],\n          extrapolate: 'clamp',\n        })\n      : 0\n  );\n\n  return {\n    cardStyle: {\n      transform: [\n        {\n          translateX: Animated.multiply(\n            progress.interpolate({\n              inputRange: [0, 1, 2],\n              outputRange: [\n                screen.width, // Focused, but offscreen in the beginning\n                0, // Fully focused\n                screen.width * -0.3, // Fully unfocused\n              ],\n              extrapolate: 'clamp',\n            }),\n            inverted\n          ),\n        },\n      ],\n    },\n  };\n};\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"headerStyleInterpolator")," - This is a function which specifies interpolated styles for various parts of the header. It is expected to return at least empty object, possibly containing interpolated styles for left label and button, right button, title and background. Supported properties are:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"leftLabelStyle")," - Style for the label of the left button (back button label)."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"leftButtonStyle")," - Style for the left button (usually the back button)."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"rightButtonStyle")," - Style for the right button."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"titleStyle")," - Style for the header title text."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"backgroundStyle")," - Style for the header background.")),(0,r.kt)("p",{parentName:"li"},"The function receives the following properties in it's argument:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"current")," - Values for the current screen (the screen which owns this header).",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"progress")," - Animated node representing the progress value of the current screen. ",(0,r.kt)("inlineCode",{parentName:"li"},"0")," when screen should start coming into view, ",(0,r.kt)("inlineCode",{parentName:"li"},"0.5")," when it's mid-way, ",(0,r.kt)("inlineCode",{parentName:"li"},"1")," when it should be fully in view."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"next")," - Values for the screen after this one in the stack. This can be ",(0,r.kt)("inlineCode",{parentName:"li"},"undefined")," in case the screen animating is the last one.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"progress")," - Animated node representing the progress value of the next screen."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"layouts")," - Layout measurements for various items we use for animation. Each layout object contain ",(0,r.kt)("inlineCode",{parentName:"li"},"height")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"width")," properties.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"screen")," - Layout of the whole screen."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"title")," - Layout of the title element. Might be ",(0,r.kt)("inlineCode",{parentName:"li"},"undefined")," when not rendering a title."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"leftLabel")," - Layout of the back button label. Might be ",(0,r.kt)("inlineCode",{parentName:"li"},"undefined")," when not rendering a back button label.")))),(0,r.kt)("p",{parentName:"li"},"A config which just fades the elements looks like this:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const forFade = ({ current, next }) => {\n  const opacity = Animated.add(\n    current.progress,\n    next ? next.progress : 0\n  ).interpolate({\n    inputRange: [0, 1, 2],\n    outputRange: [0, 1, 0],\n  });\n\n  return {\n    leftButtonStyle: { opacity },\n    rightButtonStyle: { opacity },\n    titleStyle: { opacity },\n    backgroundStyle: { opacity },\n  };\n};\n")),(0,r.kt)("p",{parentName:"li"},"We can pass this function in ",(0,r.kt)("inlineCode",{parentName:"p"},"headerStyleInterpolator")," option:"),(0,r.kt)("samp",{id:"stack-for-fade-header"}),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-js"},'<Stack.Screen\n  name="Profile"\n  component={Profile}\n  options={{ headerStyleInterpolator: forFade }}\n/>\n')))),(0,r.kt)("h3",{id:"pre-made-configs"},"Pre-made configs"),(0,r.kt)("p",null,"With these options, it's possible to build custom transition animations for screens. We also export various configs from the library with ready-made animations which you can use:"),(0,r.kt)("h4",{id:"transitionspecs"},(0,r.kt)("inlineCode",{parentName:"h4"},"TransitionSpecs")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"TransitionIOSSpec")," - Exact values from UINavigationController's animation configuration."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"FadeInFromBottomAndroidSpec")," - Configuration for activity open animation from Android Nougat."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"FadeOutToBottomAndroidSpec")," - Configuration for activity close animation from Android Nougat."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"RevealFromBottomAndroidSpec")," - Approximate configuration for activity open animation from Android Pie.")),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import { TransitionSpecs } from '@react-navigation/stack';\n\n// ...\n\n<Stack.Screen\n  name=\"Profile\"\n  component={Profile}\n  options={{\n    transitionSpec: {\n      open: TransitionSpecs.TransitionIOSSpec,\n      close: TransitionSpecs.TransitionIOSSpec,\n    },\n  }}\n/>;\n")),(0,r.kt)("h4",{id:"cardstyleinterpolators"},(0,r.kt)("inlineCode",{parentName:"h4"},"CardStyleInterpolators")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"forHorizontalIOS")," - Standard iOS-style slide in from the right."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"forVerticalIOS")," - Standard iOS-style slide in from the bottom (used for modals)."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"forModalPresentationIOS")," - Standard iOS-style modal animation in iOS 13."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"forFadeFromBottomAndroid")," - Standard Android-style fade in from the bottom for Android Oreo."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"forRevealFromBottomAndroid")," - Standard Android-style reveal from the bottom for Android Pie.")),(0,r.kt)("p",null,"Example configuration for Android Oreo style vertical screen fade animation:"),(0,r.kt)("samp",{id:"stack-card-style-interpolator"}),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import { CardStyleInterpolators } from '@react-navigation/stack';\n\n// ...\n\n<Stack.Screen\n  name=\"Profile\"\n  component={Profile}\n  options={{\n    title: 'Profile',\n    cardStyleInterpolator: CardStyleInterpolators.forFadeFromBottomAndroid,\n  }}\n/>;\n")),(0,r.kt)("h4",{id:"headerstyleinterpolators"},(0,r.kt)("inlineCode",{parentName:"h4"},"HeaderStyleInterpolators")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"forUIKit")," - Standard UIKit style animation for the header where the title fades into the back button label."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"forFade")," - Simple fade animation for the header elements."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"forStatic")," - Simple translate animation to translate the header along with the sliding screen.")),(0,r.kt)("p",null,"Example configuration for default iOS animation for header elements where the title fades into the back button:"),(0,r.kt)("samp",{id:"stack-for-ui-kit"}),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import { HeaderStyleInterpolators } from '@react-navigation/stack';\n\n// ...\n\n<Stack.Screen\n  name=\"Profile\"\n  component={Profile}\n  options={{\n    title: 'Profile',\n    headerStyleInterpolator: HeaderStyleInterpolators.forUIKit,\n  }}\n/>;\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Note: Always define your animation configuration at the top-level of the file to ensure that the references don't change across re-renders. This is important for smooth and reliable transition animations.")),(0,r.kt)("h4",{id:"transitionpresets"},(0,r.kt)("inlineCode",{parentName:"h4"},"TransitionPresets")),(0,r.kt)("p",null,"We export various transition presets which bundle various set of these options together to match certain native animations. A transition preset is an object containing few animation related screen options exported under ",(0,r.kt)("inlineCode",{parentName:"p"},"TransitionPresets"),". Currently the following presets are available:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"SlideFromRightIOS")," - Standard iOS navigation transition."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ModalSlideFromBottomIOS")," - Standard iOS navigation transition for modals."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ModalPresentationIOS")," - Standard iOS modal presentation style (introduced in iOS 13)."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"FadeFromBottomAndroid")," - Standard Android navigation transition when opening or closing an Activity on Android < 9 (Oreo)."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"RevealFromBottomAndroid")," - Standard Android navigation transition when opening or closing an Activity on Android 9 (Pie)."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ScaleFromCenterAndroid")," - Standard Android navigation transition when opening or closing an Activity on Android >= 10."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"DefaultTransition")," - Default navigation transition for the current platform."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ModalTransition")," - Default modal transition for the current platform.")),(0,r.kt)("p",null,"You can spread these presets in ",(0,r.kt)("inlineCode",{parentName:"p"},"options")," to customize the animation for a screen:"),(0,r.kt)("samp",{id:"stack-modal-slide-from-bottom"}),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import { TransitionPresets } from '@react-navigation/stack';\n\n// ...\n\n<Stack.Screen\n  name=\"Profile\"\n  component={Profile}\n  options={{\n    title: 'Profile',\n    ...TransitionPresets.ModalSlideFromBottomIOS,\n  }}\n/>;\n")),(0,r.kt)("p",null,"If you want to customize the transition animations for all of the screens in the navigator, you can specify it in ",(0,r.kt)("inlineCode",{parentName:"p"},"screenOptions")," prop for the navigator."),(0,r.kt)("p",null,"Example configuration for iOS modal presentation style:"),(0,r.kt)("samp",{id:"stack-modal-presentation"}),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'import { TransitionPresets } from \'@react-navigation/stack\';\n\n// ...\n\n<Stack.Navigator\n  initialRouteName="Home"\n  screenOptions={({ route, navigation }) => ({\n    headerShown: false,\n    gestureEnabled: true,\n    ...TransitionPresets.ModalPresentationIOS,\n  })}\n>\n  <Stack.Screen name="Home" component={Home} />\n  <Stack.Screen name="Profile" component={Profile} />\n</Stack.Navigator>;\n')),(0,r.kt)("h3",{id:"transparent-modals"},"Transparent modals"),(0,r.kt)("p",null,"A transparent modal is like a modal dialog which overlays the screen. The previous screen still stays visible underneath. To get a transparent modal screen, you can specify ",(0,r.kt)("inlineCode",{parentName:"p"},"presentation: 'transparentModal'")," in the screen's options."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'<Stack.Navigator>\n  <Stack.Screen name="Home" component={HomeStack} />\n  <Stack.Screen\n    name="Modal"\n    component={ModalScreen}\n    options={{ presentation: \'transparentModal\' }}\n  />\n</Stack.Navigator>\n')),(0,r.kt)("p",null,"Now, when you navigate to the ",(0,r.kt)("inlineCode",{parentName:"p"},"Modal")," screen, it'll have a transparent background and the ",(0,r.kt)("inlineCode",{parentName:"p"},"Home")," screen will be visible underneath."),(0,r.kt)("p",null,"In addition to ",(0,r.kt)("inlineCode",{parentName:"p"},"presentation"),", you might want to optionally specify few more things to get a modal dialog like behavior:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Disable the header with ",(0,r.kt)("inlineCode",{parentName:"li"},"headerShown: false")),(0,r.kt)("li",{parentName:"ul"},"Enable the overlay with ",(0,r.kt)("inlineCode",{parentName:"li"},"cardOverlayEnabled: true")," (you can't tap the overlay to close the screen this way, see below for alternatives)")),(0,r.kt)("p",null,"If you want to further customize how the dialog animates, or want to close the screen when tapping the overlay etc., you can use the ",(0,r.kt)("inlineCode",{parentName:"p"},"useCardAnimation")," hook to customize elements inside your screen."),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import {\n  Animated,\n  View,\n  Text,\n  Pressable,\n  Button,\n  StyleSheet,\n} from 'react-native';\nimport { useTheme } from '@react-navigation/native';\nimport { useCardAnimation } from '@react-navigation/stack';\n\nfunction ModalScreen({ navigation }) {\n  const { colors } = useTheme();\n  const { current } = useCardAnimation();\n\n  return (\n    <View\n      style={{\n        flex: 1,\n        alignItems: 'center',\n        justifyContent: 'center',\n      }}\n    >\n      <Pressable\n        style={[\n          StyleSheet.absoluteFill,\n          { backgroundColor: 'rgba(0, 0, 0, 0.5)' },\n        ]}\n        onPress={navigation.goBack}\n      />\n      <Animated.View\n        style={{\n          padding: 16,\n          width: '90%',\n          maxWidth: 400,\n          borderRadius: 3,\n          backgroundColor: colors.card,\n          transform: [\n            {\n              scale: current.progress.interpolate({\n                inputRange: [0, 1],\n                outputRange: [0.9, 1],\n                extrapolate: 'clamp',\n              }),\n            },\n          ],\n        }}\n      >\n        <Text>\n          Mise en place is a French term that literally means \u201cput in place.\u201d It\n          also refers to a way cooks in professional kitchens and restaurants\n          set up their work stations\u2014first by gathering all ingredients for a\n          recipes, partially preparing them (like measuring out and chopping),\n          and setting them all near each other. Setting up mise en place before\n          cooking is another top tip for home cooks, as it seriously helps with\n          organization. It\u2019ll pretty much guarantee you never forget to add an\n          ingredient and save you time from running back and forth from the\n          pantry ten times.\n        </Text>\n        <Button\n          title=\"Okay\"\n          color={colors.primary}\n          style={{ alignSelf: 'flex-end' }}\n          onPress={navigation.goBack}\n        />\n      </Animated.View>\n    </View>\n  );\n}\n")),(0,r.kt)("p",null,"Here we animate the scale of the dialog, and also add an overlay to close the dialog."))}m.isMDXComponent=!0},86010:function(e,t,n){"use strict";function a(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=a(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function i(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=a(e))&&(i&&(i+=" "),i+=t);return i}n.d(t,{Z:function(){return i}})}}]);