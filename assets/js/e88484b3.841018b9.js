"use strict";(self.webpackChunkreact_navigation_website_next=self.webpackChunkreact_navigation_website_next||[]).push([[73163],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return h}});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),s=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=s(e.components);return r.createElement(l.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},f=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,c=u(e,["components","mdxType","originalType","parentName"]),p=s(n),f=a,h=p["".concat(l,".").concat(f)]||p[f]||d[f]||o;return n?r.createElement(h,i(i({ref:t},c),{},{components:n})):r.createElement(h,i({ref:t},c))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=f;var u={};for(var l in t)hasOwnProperty.call(t,l)&&(u[l]=t[l]);u.originalType=e,u[p]="string"==typeof e?e:a,i[1]=u;for(var s=2;s<o;s++)i[s]=n[s];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}f.displayName="MDXCreateElement"},85162:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(67294),a=n(86010),o={tabItem:"tabItem_Ymn6"};function i(e){var t=e.children,n=e.hidden,i=e.className;return r.createElement("div",{role:"tabpanel",className:(0,a.Z)(o.tabItem,i),hidden:n},t)}},74866:function(e,t,n){n.d(t,{Z:function(){return y}});var r=n(83117),a=n(67294),o=n(86010),i=n(12466),u=n(16550),l=n(91980),s=n(67392),c=n(50012);function p(e){return function(e){return a.Children.map(e,(function(e){if((0,a.isValidElement)(e)&&"value"in e.props)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')}))}(e).map((function(e){var t=e.props;return{value:t.value,label:t.label,attributes:t.attributes,default:t.default}}))}function d(e){var t=e.values,n=e.children;return(0,a.useMemo)((function(){var e=null!=t?t:p(n);return function(e){var t=(0,s.l)(e,(function(e,t){return e.value===t.value}));if(t.length>0)throw new Error('Docusaurus error: Duplicate values "'+t.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e}),[t,n])}function f(e){var t=e.value;return e.tabValues.some((function(e){return e.value===t}))}function h(e){var t=e.queryString,n=void 0!==t&&t,r=e.groupId,o=(0,u.k6)(),i=function(e){var t=e.queryString,n=void 0!==t&&t,r=e.groupId;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=r?r:null}({queryString:n,groupId:r});return[(0,l._X)(i),(0,a.useCallback)((function(e){if(i){var t=new URLSearchParams(o.location.search);t.set(i,e),o.replace(Object.assign({},o.location,{search:t.toString()}))}}),[i,o])]}function v(e){var t,n,r,o,i=e.defaultValue,u=e.queryString,l=void 0!==u&&u,s=e.groupId,p=d(e),v=(0,a.useState)((function(){return function(e){var t,n=e.defaultValue,r=e.tabValues;if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!f({value:n,tabValues:r}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+n+'" but none of its children has the corresponding value. Available values are: '+r.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return n}var a=null!=(t=r.find((function(e){return e.default})))?t:r[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:i,tabValues:p})})),m=v[0],b=v[1],g=h({queryString:l,groupId:s}),w=g[0],k=g[1],y=(t=function(e){return e?"docusaurus.tab."+e:null}({groupId:s}.groupId),n=(0,c.Nk)(t),r=n[0],o=n[1],[r,(0,a.useCallback)((function(e){t&&o.set(e)}),[t,o])]),N=y[0],x=y[1],C=function(){var e=null!=w?w:N;return f({value:e,tabValues:p})?e:null}();return(0,a.useLayoutEffect)((function(){C&&b(C)}),[C]),{selectedValue:m,selectValue:(0,a.useCallback)((function(e){if(!f({value:e,tabValues:p}))throw new Error("Can't select invalid tab value="+e);b(e),k(e),x(e)}),[k,x,p]),tabValues:p}}var m=n(72389),b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function g(e){var t=e.className,n=e.block,u=e.selectedValue,l=e.selectValue,s=e.tabValues,c=[],p=(0,i.o5)().blockElementScrollPositionUntilNextRender,d=function(e){var t=e.currentTarget,n=c.indexOf(t),r=s[n].value;r!==u&&(p(t),l(r))},f=function(e){var t,n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":var r,a=c.indexOf(e.currentTarget)+1;n=null!=(r=c[a])?r:c[0];break;case"ArrowLeft":var o,i=c.indexOf(e.currentTarget)-1;n=null!=(o=c[i])?o:c[c.length-1]}null==(t=n)||t.focus()};return a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":n},t)},s.map((function(e){var t=e.value,n=e.label,i=e.attributes;return a.createElement("li",(0,r.Z)({role:"tab",tabIndex:u===t?0:-1,"aria-selected":u===t,key:t,ref:function(e){return c.push(e)},onKeyDown:f,onClick:d},i,{className:(0,o.Z)("tabs__item",b.tabItem,null==i?void 0:i.className,{"tabs__item--active":u===t})}),null!=n?n:t)})))}function w(e){var t=e.lazy,n=e.children,r=e.selectedValue;if(n=Array.isArray(n)?n:[n],t){var o=n.find((function(e){return e.props.value===r}));return o?(0,a.cloneElement)(o,{className:"margin-top--md"}):null}return a.createElement("div",{className:"margin-top--md"},n.map((function(e,t){return(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==r})})))}function k(e){var t=v(e);return a.createElement("div",{className:(0,o.Z)("tabs-container",b.tabList)},a.createElement(g,(0,r.Z)({},e,t)),a.createElement(w,(0,r.Z)({},e,t)))}function y(e){var t=(0,m.Z)();return a.createElement(k,(0,r.Z)({key:String(t)},e))}},54308:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return l},default:function(){return h},frontMatter:function(){return u},metadata:function(){return s},toc:function(){return p}});var r=n(83117),a=n(80102),o=(n(67294),n(3905)),i=(n(74866),n(85162),["components"]),u={id:"web-support",title:"React Navigation on the Web",sidebar_label:"Web support"},l=void 0,s={unversionedId:"web-support",id:"version-4.x/web-support",title:"React Navigation on the Web",description:"Note: starting in v3, React Navigation has built-in support for use in web sites, including server rendering. This has not yet been widely used in production and we consider this feature to be experimental.",source:"@site/versioned_docs/version-4.x/web-support.md",sourceDirName:".",slug:"/web-support",permalink:"/docs/4.x/web-support",draft:!1,editUrl:"https://github.com/react-navigation/react-navigation.github.io/edit/main/versioned_docs/version-4.x/web-support.md",tags:[],version:"4.x",frontMatter:{id:"web-support",title:"React Navigation on the Web",sidebar_label:"Web support"},sidebar:"version-4.x-docs",previous:{title:"Localization",permalink:"/docs/4.x/localization"},next:{title:"Call a function when focused screen changes",permalink:"/docs/4.x/function-after-focusing-screen"}},c={},p=[{value:"Web Links",id:"web-links",level:2},{value:"Server rendering",id:"server-rendering",level:2},{value:"Custom navigators for the web",id:"custom-navigators-for-the-web",level:2}],d={toc:p},f="wrapper";function h(e){var t=e.components,n=(0,a.Z)(e,i);return(0,o.kt)(f,(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Note: starting in v3, React Navigation has built-in support for use in web sites, including server rendering. This has not yet been widely used in production and we consider this feature to be experimental.")),(0,o.kt)("h1",{id:"with-react-native-web"},"With react-native-web"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},'"',(0,o.kt)("a",{parentName:"p",href:"https://github.com/necolas/react-native-web"},"React Native for Web"),'" makes it possible to run React Native components and APIs on the web using React DOM.')),(0,o.kt)("p",null,"This approach allows you to reuse most of React Navigation on the web because React Native for Web maps React Native primitives like ",(0,o.kt)("inlineCode",{parentName:"p"},"View"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"Text"),", and others to their equivalents on the web."),(0,o.kt)("p",null,"The easiest way to get started with this approach is to use to use the ",(0,o.kt)("a",{parentName:"p",href:"https://blog.expo.io/expo-cli-and-sdk-web-support-beta-d0c588221375"},"Expo CLI web support beta"),". More information on how to set this up in other projects will follow in the future, help on documenting it is also welcome!"),(0,o.kt)("h1",{id:"with-standard-web-tools"},"With standard web tools"),(0,o.kt)("p",null,"This approach requires that you rebuild the navigation views for your app (at least until the community builds out an alternative), but allows you to leverage routers and simple navigators that don't require views, like the switch navigator."),(0,o.kt)("p",null,"To set up a navigator in a React app, ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/react-navigation/example-web"},"(such as one created with create-react-app)"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'import { createSwitchNavigator } from "@react-navigation/core";\nimport { createBrowserApp } from "@react-navigation/web";\n\nconst MyNavigator = createSwitchNavigator(routes);\n\nconst App = createBrowserApp(MyNavigator);\n\n// now you can render "App" normally\n')),(0,o.kt)("h2",{id:"web-links"},"Web Links"),(0,o.kt)("p",null,"We ship a utility out of the box which automatically sets up an ",(0,o.kt)("inlineCode",{parentName:"p"},"<a>")," tag for you with the correct ",(0,o.kt)("inlineCode",{parentName:"p"},"href"),"."),(0,o.kt)("p",null,"This is necessary to properly support server rendering, critical for accessibility, and nice to provide a good user experience when the browser displays what URL the link will go to."),(0,o.kt)("p",null,"When the app is running, the default browser behavior will be blocked and a navigation action will be dispatched instead."),(0,o.kt)("p",null,'To render a link to the "Profile" route:'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'<Link toRoute="Profile" params={{ name: "jamie" }}>\n  Jamie\'s Profile\n</Link>\n')),(0,o.kt)("p",null,"Depending on the ",(0,o.kt)("inlineCode",{parentName:"p"},"path")," that is set up for the ",(0,o.kt)("inlineCode",{parentName:"p"},"Profile")," route, the above link may render to html as ",(0,o.kt)("inlineCode",{parentName:"p"},'<a href="/people/jamie">Jamie\'s Profile</a>')),(0,o.kt)("p",null,"You can alternatively provide an ",(0,o.kt)("inlineCode",{parentName:"p"},"action")," prop to the ",(0,o.kt)("inlineCode",{parentName:"p"},"Link"),", to specify the exact navigation action that will be used to handle this link."),(0,o.kt)("h2",{id:"server-rendering"},"Server rendering"),(0,o.kt)("p",null,"You can use the ",(0,o.kt)("inlineCode",{parentName:"p"},"handleServerRequest")," function to get the top-level navigation prop for your app, as well as the current title for this route."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'expressApp.get("/*", (req, res) => {\n\n  const { path, query } = req;\n\n  const { navigation, title, options } = handleServerRequest(\n    AppNavigator.router,\n    path,\n    query\n  );\n\n  const markup = renderToString(<AppNavigator navigation={navigation} />);\n\n  res.send(\n    `<!doctype html>\n  <html lang="">\n  <head>\n    <title>${title}</title>\n    <script src="main.js"><\/script>\n  </head>\n  <body>\n    <div id="root">${markup}</div>\n  </body>\n</html>`\n  );\n});\n')),(0,o.kt)("p",null,"For a full example, ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/react-navigation/web-server-example"},"see a full server+client React web app here")),(0,o.kt)("h2",{id:"custom-navigators-for-the-web"},"Custom navigators for the web"),(0,o.kt)("p",null,"The built-in navigator components such as Stack are often not well suited for web sites, so you may want to create custom navigators yourself."),(0,o.kt)("p",null,"Your view can use ",(0,o.kt)("inlineCode",{parentName:"p"},"props.descriptors")," to see the current set of screens, get their navigation object, and see the current navigation options. You should use ",(0,o.kt)("inlineCode",{parentName:"p"},"SceneView")," to present your child screen components."),(0,o.kt)("p",null,"See ",(0,o.kt)("a",{parentName:"p",href:"/docs/4.x/custom-navigators"},'"Custom Navigators"')," for more details."),(0,o.kt)("p",null,"For an example of this, see how the custom ",(0,o.kt)("inlineCode",{parentName:"p"},"SidebarView")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"AppView")," are used from ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/react-navigation/web-server-example/blob/master/src/App.js"},(0,o.kt)("inlineCode",{parentName:"a"},"App.js")," in the web server example"),"."))}h.isMDXComponent=!0}}]);