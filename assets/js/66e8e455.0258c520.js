"use strict";(self.webpackChunkreact_navigation_website_next=self.webpackChunkreact_navigation_website_next||[]).push([[3024],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return m}});var a=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=a.createContext({}),p=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=p(n),m=o,g=d["".concat(l,".").concat(m)]||d[m]||u[m]||i;return n?a.createElement(g,r(r({ref:t},c),{},{components:n})):a.createElement(g,r({ref:t},c))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,r=new Array(i);r[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,r[1]=s;for(var p=2;p<i;p++)r[p]=n[p];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},76054:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return p},assets:function(){return c},toc:function(){return u},default:function(){return m}});var a=n(87462),o=n(63366),i=(n(67294),n(3905)),r=["components"],s={title:"React Navigation 6.0",author:"Satyajit Sahoo",author_url:"https://twitter.com/satya164",author_title:"Core Team",author_image_url:"https://avatars2.githubusercontent.com/u/1174278?s=200&v=4",tags:["release","announcement"]},l=void 0,p={permalink:"/blog/2021/08/14/react-navigation-6.0",source:"@site/blog/2021-08-14-react-navigation-6.0.md",title:"React Navigation 6.0",description:"The documentation is now live at reactnavigation.org, and v5 lives here.",date:"2021-08-14T00:00:00.000Z",formattedDate:"August 14, 2021",tags:[{label:"release",permalink:"/blog/tags/release"},{label:"announcement",permalink:"/blog/tags/announcement"}],readingTime:5.65,truncated:!0,authors:[{name:"Satyajit Sahoo",title:"Core Team",url:"https://twitter.com/satya164",imageURL:"https://avatars2.githubusercontent.com/u/1174278?s=200&v=4"}],nextItem:{title:"On the way to React Navigation 6.0",permalink:"/blog/2021/03/12/react-navigation-6.0-next"}},c={authorsImageUrls:[void 0]},u=[{value:"Highlights",id:"highlights",children:[{value:"More flexible navigators",id:"more-flexible-navigators",children:[]},{value:"Elements library",id:"elements-library",children:[]},{value:"Simplified APIs for existing functionality",id:"simplified-apis-for-existing-functionality",children:[]},{value:"New <code>Group</code> component for organization",id:"new-group-component-for-organization",children:[]},{value:"Headers by default in Bottom Tabs &amp; Drawer",id:"headers-by-default-in-bottom-tabs--drawer",children:[]},{value:"Native navigation by default",id:"native-navigation-by-default",children:[]},{value:"Better type-safety",id:"better-type-safety",children:[]},{value:"Flipper plugin",id:"flipper-plugin",children:[]}]},{value:"Upgrading",id:"upgrading",children:[]},{value:"Sponsor us",id:"sponsor-us",children:[]}],d={toc:u};function m(e){var t=e.components,s=(0,o.Z)(e,r);return(0,i.kt)("wrapper",(0,a.Z)({},d,s,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"The documentation is now live at ",(0,i.kt)("a",{parentName:"p",href:"https://reactnavigation.org"},"reactnavigation.org"),", and v5 lives ",(0,i.kt)("a",{parentName:"p",href:"/docs/5.x/getting-started"},"here"),"."),(0,i.kt)("p",null,"React Navigation 6 keeps mostly the same core API as React Navigation 5, and you can think of it as further polishing what was in React Navigation 5. Let's talk about the highlights of this release in this blog post."),(0,i.kt)("h2",{id:"highlights"},"Highlights"),(0,i.kt)("h3",{id:"more-flexible-navigators"},"More flexible navigators"),(0,i.kt)("p",null,"Navigators accept many of their customization options as props, which means we can\u2019t customize them based on the active screen. To make this level of control possible, we needed to move these props to options that you can configure per screen."),(0,i.kt)("p",null,"In React Navigation 6, many of these props are now screen options. The most significant changes are ",(0,i.kt)("inlineCode",{parentName:"p"},"tabBarOptions")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"drawerContentOptions"),", which now all live on ",(0,i.kt)("inlineCode",{parentName:"p"},"options")," instead. For example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"// Before (v5)\n<Tab.Navigator\n  tabBarOptions={{\n    inactiveTintColor: 'rgba(255, 255, 255, 0.5)',\n    activeTintColor: '#fff',\n    style: {\n      position: 'absolute',\n      borderTopColor: 'rgba(0, 0, 0, .2)',\n    },\n  }}\n>\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"// After (v6)\n<Tab.Navigator\n  screenOptions={{\n    tabBarInactiveTintColor: 'rgba(255, 255, 255, 0.5)',\n    tabBarActiveTintColor: '#fff',\n    tabBarStyle: {\n      position: 'absolute',\n      borderTopColor: 'rgba(0, 0, 0, .2)',\n    },\n  }}\n>\n")),(0,i.kt)("p",null,"See ",(0,i.kt)("a",{parentName:"p",href:"/docs/upgrading-from-5.x#deprecations"},"deprecations")," for more details."),(0,i.kt)("h3",{id:"elements-library"},"Elements library"),(0,i.kt)("p",null,"We extracted some of the components and helpers used across various navigators in React Navigation and published them under a new package called ",(0,i.kt)("a",{parentName:"p",href:"/docs/elements"},(0,i.kt)("inlineCode",{parentName:"a"},"@react-navigation/elements")),". It can be useful if you're building your own navigator, or just want to reuse some of the components in your app."),(0,i.kt)("p",null,"Currently only a small set of components are exported, but there are more to come."),(0,i.kt)("h3",{id:"simplified-apis-for-existing-functionality"},"Simplified APIs for existing functionality"),(0,i.kt)("p",null,"We simplified many APIs with React Navigation 6 to address common use cases. For example:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Single option to use a modal presentation style and transparent modal with ",(0,i.kt)("a",{parentName:"li",href:"/docs/stack-navigator#presentation"},(0,i.kt)("inlineCode",{parentName:"a"},"presentation"))),(0,i.kt)("li",{parentName:"ul"},"Custom header doesn't require setting ",(0,i.kt)("inlineCode",{parentName:"li"},'headerMode="screen"')," manually anymore"),(0,i.kt)("li",{parentName:"ul"},"The ",(0,i.kt)("inlineCode",{parentName:"li"},"useHeaderHeight")," hook now ignores hidden headers and returns the height of the closest visible header in parent"),(0,i.kt)("li",{parentName:"ul"},"New option to set a ",(0,i.kt)("a",{parentName:"li",href:"/docs/bottom-tab-navigator#tabbarbackground"},"custom background")," (such as ",(0,i.kt)("inlineCode",{parentName:"li"},"BlurView"),") for tab bar without having to use a custom tab bar"),(0,i.kt)("li",{parentName:"ul"},"New API to manage ref on the container ",(0,i.kt)("a",{parentName:"li",href:"/docs/navigating-without-navigation-prop"},"(",(0,i.kt)("inlineCode",{parentName:"a"},"createNavigationContainerRef")," and ",(0,i.kt)("inlineCode",{parentName:"a"},"useNavigationContainerRef"),")"))),(0,i.kt)("h3",{id:"new-group-component-for-organization"},"New ",(0,i.kt)("inlineCode",{parentName:"h3"},"Group")," component for organization"),(0,i.kt)("p",null,"The ",(0,i.kt)("a",{parentName:"p",href:"/docs/group"},(0,i.kt)("inlineCode",{parentName:"a"},"Group"))," component helps you organize screens inside your navigators and share common ",(0,i.kt)("inlineCode",{parentName:"p"},"screenOptions")," between the ",(0,i.kt)("inlineCode",{parentName:"p"},"Group"),"s.  Passing ",(0,i.kt)("inlineCode",{parentName:"p"},"screenOptions")," to a group configures all the screens inside that group to use these options. You can override ",(0,i.kt)("inlineCode",{parentName:"p"},"Group")," options by passing ",(0,i.kt)("inlineCode",{parentName:"p"},"options")," to each Screen component, similar to how you can with ",(0,i.kt)("inlineCode",{parentName:"p"},"screenOptions")," on Navigator. You can also nest ",(0,i.kt)("inlineCode",{parentName:"p"},"Group")," components inside other ",(0,i.kt)("inlineCode",{parentName:"p"},"Group")," components. They are lightweight and don\u2019t render anything - like fragments, so they won\u2019t affect performance."),(0,i.kt)("p",null,"In this code snippet, you can see that we group regular screens under one group and modal screens under another group:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},'function App() {\n  return (\n    <Stack.Navigator>\n      <Stack.Group>\n        <Stack.Screen name="Home" component={HomeScreen} />\n        <Stack.Screen name="Details" component={DetailsScreen} />\n      </Stack.Group>\n      <Stack.Group screenOptions={{ presentation: \'modal\' }}>\n        <Stack.Screen\n          name="CreatePost"\n          component={CreatePostScreen}\n        />\n      </Stack.Group>\n    </Stack.Navigator>\n  );\n}\n')),(0,i.kt)("h3",{id:"headers-by-default-in-bottom-tabs--drawer"},"Headers by default in Bottom Tabs & Drawer"),(0,i.kt)("p",null,"Developers often want to show a header for screens inside of drawers and bottom tabs. To do this, we had to nest a stack navigator which provides a header, even if it was a navigator with just one screen. So we now show headers by default in screens of drawer and bottom tabs. No nesting necessary."),(0,i.kt)("p",null,"We also export a ",(0,i.kt)("a",{parentName:"p",href:"/docs/elements#header"},(0,i.kt)("inlineCode",{parentName:"a"},"Header"))," component in the new elements library to use anywhere in your components."),(0,i.kt)("h3",{id:"native-navigation-by-default"},"Native navigation by default"),(0,i.kt)("p",null,"Historically, React Navigation has been mostly JS based, with animations and gestures written in JavaScript on top of ",(0,i.kt)("inlineCode",{parentName:"p"},"react-native-gesture-handler"),", and ",(0,i.kt)("inlineCode",{parentName:"p"},"react-native-reanimated")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"Animated"),". While this works for a lot of apps, apps with heavy screens can suffer from poor performance, and some native features are difficult to re-create exactly (such as the large header on iOS). So, we wanted to address this by using native primitives for navigation."),(0,i.kt)("p",null,"With React Navigation 5, we introduced ",(0,i.kt)("a",{parentName:"p",href:"/docs/native-stack-navigator"},(0,i.kt)("inlineCode",{parentName:"a"},"@react-navigation/native-stack"))," package powered by ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/software-mansion/react-native-screens"},(0,i.kt)("inlineCode",{parentName:"a"},"react-native-screens")),", as well as a native backend for ",(0,i.kt)("a",{parentName:"p",href:"/docs/material-top-tab-navigator"},(0,i.kt)("inlineCode",{parentName:"a"},"@react-navigation/material-top-tabs"))," powered by ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/callstack/react-native-pager-view"},(0,i.kt)("inlineCode",{parentName:"a"},"react-native-pager-view")),"."),(0,i.kt)("p",null,"In React Navigation 6, we made ",(0,i.kt)("inlineCode",{parentName:"p"},"@react-navigation/native-stack")," the default choice for setting up Stack navigation. It uses ",(0,i.kt)("inlineCode",{parentName:"p"},"UINavigationController")," on iOS and Fragments on Android to implement navigation natively. We also focused a lot on aligning the API of ",(0,i.kt)("inlineCode",{parentName:"p"},"@react-navigation/native-stack")," with ",(0,i.kt)("inlineCode",{parentName:"p"},"@react-navigation/stack")," so that it\u2019ll be easier to switch between them."),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"While ",(0,i.kt)("inlineCode",{parentName:"p"},"@react-navigation/native-stack")," is now used as the default choice in the documentation, it doesn't replace ",(0,i.kt)("inlineCode",{parentName:"p"},"@react-navigation/stack"),". Both packages are maintained and are valid options for your projects. If you're currently using ",(0,i.kt)("inlineCode",{parentName:"p"},"@react-navigation/stack"),", you can keep using it. You don't need to move to ",(0,i.kt)("inlineCode",{parentName:"p"},"@react-navigation/native-stack")," unless you really want to.")),(0,i.kt)("p",null,"Similarly, we switched ",(0,i.kt)("inlineCode",{parentName:"p"},"@react-navigation/material-top-tabs")," to use ",(0,i.kt)("inlineCode",{parentName:"p"},"react-native-pager-view")," by default."),(0,i.kt)("h3",{id:"better-type-safety"},"Better type-safety"),(0,i.kt)("p",null,"React Navigation 5\u2019s TypeScript support was much better than React Navigation 4; but, some things such as ",(0,i.kt)("inlineCode",{parentName:"p"},"useNavigation")," were still untyped by default."),(0,i.kt)("p",null,"In React Navigation 6, you don\u2019t need to annotate ",(0,i.kt)("inlineCode",{parentName:"p"},"useNavigation")," to get autocompletion and type checking. This is possible by defining a type for the screens globally using declaration merging:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"declare global {\n  namespace ReactNavigation {\n    interface RootParamList {\n      Home: undefined;\n      Profile: { userId: string };\n      NotFound: undefined;\n    }\n  }\n}\n")),(0,i.kt)("p",null,"You can read ",(0,i.kt)("a",{parentName:"p",href:"/docs/typescript#specifying-default-types-for-usenavigation-link-ref-etc"},"more about it in our TypeScript docs"),"."),(0,i.kt)("h3",{id:"flipper-plugin"},"Flipper plugin"),(0,i.kt)("p",null,"Our new ",(0,i.kt)("a",{parentName:"p",href:"https://fbflipper.com/"},"Flipper")," plugin includes similar functionality to the currently available Redux Devtools Extensions integration. You can see all navigation actions, and jump back and forth between earlier and new navigation states. In addition, it also includes a tab to test your linking configuration."),(0,i.kt)("p",null,"Since the dev tools is built from scratch, we\u2019re now free to add new features to make debugging easier in future."),(0,i.kt)("p",null,"One advantage of the Flipper plugin over Redux Devtools Extension is that it doesn\u2019t need Chrome Debugger to work. Since Chrome Debugger can sometimes affect performance and even potentially change behavior, we think this is a more reliable solution."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"React Navigation Logs",src:n(18863).Z})),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"React Navigation Linking",src:n(39774).Z})),(0,i.kt)("p",null,"See the ",(0,i.kt)("a",{parentName:"p",href:"/docs/devtools#useflipper"},"guide for setting it up")," for more details. Note that Flipper support in Expo managed apps requires a ",(0,i.kt)("a",{parentName:"p",href:"https://docs.expo.dev/clients/introduction/"},"Custom Development Client")," and it does not work in Expo Go at the time of writing."),(0,i.kt)("h2",{id:"upgrading"},"Upgrading"),(0,i.kt)("p",null,"While React Navigation 6 doesn't introduce changes of the same magnitude as React Navigation 5, there are still some breaking changes. It is possible, however, to mix packages from React Navigation 5 and React Navigation 6 (with a few caveats) so that you can gradually upgrade packages."),(0,i.kt)("p",null,"See the ",(0,i.kt)("a",{parentName:"p",href:"/docs/upgrading-from-5.x"},"upgrade guide")," for a full list of changes and more details."),(0,i.kt)("h2",{id:"sponsor-us"},"Sponsor us"),(0,i.kt)("p",null,"If React Navigation helps you to deliver value to your customers, it'd awesome a lot if you could sponsor us. Sponsorships will help us to move more quickly towards our goal of building the best cross-platform navigation library and continue to provide timely support for bug reports in our GitHub issues."),(0,i.kt)("p",null,"\ud83d\udc49 ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/sponsors/react-navigation"},"Visit our GitHub Sponsors page")," \ud83d\udc48"))}m.isMDXComponent=!0},39774:function(e,t,n){t.Z=n.p+"assets/images/flipper-plugin-linking-5f9ec9cba7913ada028e6314f1bef395.png"},18863:function(e,t,n){t.Z=n.p+"assets/images/flipper-plugin-logs-220cf869c9f44eceb1e62f9eefbf0c7c.png"}}]);